# 统计分析助手

## 描述

这是一个桌面应用程序，它允许用户通过自然语言对他们的数据（CSV或Excel文件）进行复杂的统计分析。该工具利用大语言模型（LLM）来理解用户请求，生成R代码，并执行该代码以提供数据洞察和可视化图表。

## 功能

- **自然语言界面**: 用简单的语言提出你的分析需求。
- **R语言集成**: 执行强大的R脚本进行统计分析。
- **多轮对话**: 助手能记住你的分析上下文。
- **三栏式界面**:
    - **数据预览**: 查看已加载数据集的预览。
    - **对话窗口**: 与LLM助手互动，可以看到它的思考过程和回复。
    - **输出窗口**: 在专用的面板中查看生成的图表和R脚本的控制台输出。
- **安全密钥管理**: 使用 `.env` 文件来保证你的API凭证安全，避免硬编码在源代码中。
- **便携式R环境**: 程序被配置为优先使用放置在项目根目录 `R` 文件夹下的便携式R环境，最大程度地减少对系统环境的依赖。

## 环境要求

1.  **Python 3.x**
2.  **R 环境**: 强烈建议将一个便携版本的R环境放置在项目根目录的 `R` 文件夹下。如果无法做到，请确保 `Rscript` 命令在你的系统 `PATH` 环境变量中。

## 安装与配置

1.  **克隆/下载本项目**。

2.  **配置LLM API**:
    - 在项目根目录中找到 `.env.example` 文件。
    - 复制一份该文件，并将副本重命名为 `.env`。
    - 打开新的 `.env` 文件，将 `YOUR_API_KEY_HERE` 替换为你自己的LLM API密钥。

3.  **安装Python依赖**:
    在项目根目录打开一个终端，并运行：
    ```bash
    pip install -r requirements.txt
    ```

## 如何使用

在项目根目录，执行以下命令来运行本应用：

```bash
python src/gui.py
```

- 使用 **File > Open CSV/Excel...** 菜单来加载你的数据集。
- 使用聊天界面来开始你的分析。
